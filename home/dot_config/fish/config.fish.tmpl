{{ if eq .chezmoi.os "darwin" -}}

abbr keychain-add "/usr/bin/ssh-add --apple-use-keychain"
abbr x86 "arch -arm64 env ZDOTDIR='$HOME/.zsh@x86' zsh"
abbr xcode "open -a Xcode"

{{ end -}}

{{ if eq .chezmoi.os "linux" -}}

eval "$(ssh-agent -c 2>/dev/null)" >/dev/null

abbr psg /usr/lib/systemd/system-generators/podman-system-generator
abbr sc systemctl
abbr scu "systemctl --user"
alias tailscale "tailscale --socket $XDG_RUNTIME_DIR/tailscale/tailscaled.sock"

{{ end -}}

if status is-interactive
end

# Key Binding
bind \t complete

# Initialization
zoxide init fish --cmd cd | source

# Abbreviation
abbr -a --position anywhere -- --help '--help | bat -plhelp'
abbr -a --position anywhere -- -h '-h | bat -plhelp'

abbr av "source ./.venv/bin/activate.fish"
abbr activate "source .venv/bin/activate.fish"
abbr conf chezmoi
abbr dv deactivate
abbr fzfp "fzf --style full --preview 'fzf-preview.sh {}'"
abbr jnote "jupyter notebook"
abbr jlab "jupyter lab"
abbr vi nvim
alias posting "posting --collection $XDG_CONFIG_HOME/posting/collections"
